{"componentChunkName":"component---src-templates-lesson-template-js","path":"/redis-data-types","result":{"data":{"markdownRemark":{"html":"<p>Redis has a few differnt types of data. We won't go over all of them because most of them cover more advance usecases but so you know here they are:</p>\n<ul>\n<li>\n<p>Strings (binary safe, so you could write the contents of JPEG here)</p>\n<ul>\n<li>Technically numbers/integers are implemented as strings</li>\n</ul>\n</li>\n<li>Lists (i.e. arrays)</li>\n<li>Sets</li>\n<li>Sorted sets (similar to above but every thing has a \"score\" to it so you can grab the top ten values. Think priority queue sort of idea)</li>\n<li>Hashes (think JS object or Python hash)</li>\n<li>HyperLogLogs (not kidding, that's the name, we're not covering them)</li>\n<li>Streams (basically an append-only stream of data, think an ongoing log of data)</li>\n</ul>\n<p>You've already seen a string. Try running</p>\n<div class=\"gatsby-highlight\" data-language=\"redis\"><pre class=\"language-redis\"><code class=\"language-redis\">SET name Brian\nTYPE name # string\nSET visits 10\nTYPE visits # string</code></pre></div>\n<h2 id=\"lists\" style=\"position:relative;\"><a href=\"#lists\" aria-label=\"lists permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lists</h2>\n<p>I don't find myself frequently needing lists with Redis but a good use case may be notifications for a user. Let's say you have a user that has three notifications you need to add</p>\n<div class=\"gatsby-highlight\" data-language=\"redis\"><pre class=\"language-redis\"><code class=\"language-redis\">RPUSH notifications:btholt &quot;Call your mom&quot; &quot;Feed the dog&quot; &quot;Take out trash&quot;\nLRANGE notifications:btholt 0 -1</code></pre></div>\n<ul>\n<li><code class=\"language-text\">RPUSH</code> can be thought of as a push on a stack. You're adding thing(s) to the end of a list.</li>\n<li><code class=\"language-text\">LRANGE</code> can be thought of as the <code class=\"language-text\">GET</code> for lists (GET doesn't work on lists). It always requires the indexes you want to get so <code class=\"language-text\">0 -1</code> gets you the whole list. You can give it <code class=\"language-text\">1 5</code> and that will be the 1 index (i.e. the second) element to the 5 index element. Negative numbers count back from the end with -1 being the last element, -2 being the penultimate, etc.</li>\n</ul>\n<p>Okay, so let's say btholt dismisses the last item on the list. You could do.</p>\n<div class=\"gatsby-highlight\" data-language=\"redis\"><pre class=\"language-redis\"><code class=\"language-redis\">RPOP mylist</code></pre></div>\n<ul>\n<li>This, like pop on stack, will return the last item on the list and remove it from the list.</li>\n<li>LPOP does the same from the front of the list.</li>\n<li>LPUSH also works as well, adding items to the front.</li>\n<li>LTRIM allows you to truncate list. If I said <code class=\"language-text\">LTRIM notifications:btholt 0 5</code> it'd drop any notifications beyond five. This is useful if we don't let btholt get any more than five notifications at a time.</li>\n</ul>\n<h2 id=\"hashes\" style=\"position:relative;\"><a href=\"#hashes\" aria-label=\"hashes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hashes</h2>\n<p>Think of hashes like an object in Redis. Maybe we could repsent btholt's user like this</p>\n<div class=\"gatsby-highlight\" data-language=\"redis\"><pre class=\"language-redis\"><code class=\"language-redis\">HMSET btholt:profile title &quot;principal program manager&quot; company &quot;Microsoft&quot; city &quot;Seattle&quot; state &quot;WA&quot;\nHGET btholt:profile city\nHGETALL btholt:profile</code></pre></div>\n<p>Userful if we don't want to have separate keys for all of these. Do note that most of the operators like <code class=\"language-text\">INCR</code> exists for hashes as well e.g. <code class=\"language-text\">HINCR</code>. <a href=\"https://redis.io/commands#hash\">See here</a>.</p>\n<h2 id=\"sets-and-sorted-sets\" style=\"position:relative;\"><a href=\"#sets-and-sorted-sets\" aria-label=\"sets and sorted sets permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sets and Sorted Sets</h2>\n<p>A set is just a group of things. In our case it will be a group of strings which won't have a concept of order. For example if you had a set of colors. There's no \"order\" to a set of colors, it's just a group. We could do this.</p>\n<div class=\"gatsby-highlight\" data-language=\"redis\"><pre class=\"language-redis\"><code class=\"language-redis\">SADD colors red blue green yellow\nSMEMBERS colors\nSISMEMBER colors green # true\nSISMEMBER colors gold # false\nSPOP colors # removes and returns a random element</code></pre></div>\n<p>There's another sort of set that's called a sorted set that allows you to add priorities so that you can ask for the top ten things in a list. We won't spend a lot of time on them but here's a quick demonstration</p>\n<div class=\"gatsby-highlight\" data-language=\"redis\"><pre class=\"language-redis\"><code class=\"language-redis\">ZADD ordinals 3 third\nZADD ordinals 1 first\nZADD ordinals 2 second\nZADD ordinals 10 tenth\nZRANGE ordinals 0 -1</code></pre></div>\n<p>It's basically an array that sorts itself on the fly based on those priorities you give to it.</p>\n<p>If you're keen to learn more <a href=\"https://redis.io/topics/data-types-intro#redis-sorted-sets\">see here</a>.</p>\n<h2 id=\"hyperloglog\" style=\"position:relative;\"><a href=\"#hyperloglog\" aria-label=\"hyperloglog permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HyperLogLog</h2>\n<p>Best name ever.</p>\n<p>So HLLs are <em>very similar</em> conceptually to a bloom filter which if you've never heard of, I already teach about in one my courses! <a href=\"https://btholt.github.io/four-semesters-of-cs-part-two/bloom-filters\">See here</a>.</p>\n<p>The general gist if you have an extremely large set of data and need the ability to say something is definitely <em>not</em> in the data set but don't care about false positives. That is to say you need the ability to say \"this is not in the data set\" and you have tolerance for the algorithm to say \"this is not in the data set\" even when it was some times. HLLs in Redis allow you to do that. HLLs have a very low false positive rate and a small memory footprint even on large data sets so if you have a problem that fits its use case it's definitely something to consider.</p>\n<p><a href=\"https://redis.io/topics/data-types-intro#hyperloglogs\">See here for more docs</a>.</p>\n<h2 id=\"streams\" style=\"position:relative;\"><a href=\"#streams\" aria-label=\"streams permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Streams</h2>\n<p>Streams are fairly new and not something I've found use for. If you're adding a lot of data to a source and need to be able to subscribe to updates for it (maybe like log streams or readings from an IoT device like a temperature sensor) then this could be useful for you.</p>\n<p><a href=\"https://redis.io/topics/streams-intro\">See here</a>.</p>","frontmatter":{"path":"/redis-data-types","title":"Redis Data Types","order":"5C","section":"Key-Value Store","description":""}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"order":"2F","path":"/aggregation","title":"Aggregation"}}},{"node":{"frontmatter":{"order":"4D","path":"/complex-neo4j-queries","title":"Complex Neo4j Queries"}}},{"node":{"frontmatter":{"order":"3D","path":"/complex-sql-queries","title":"Complex SQL Queries"}}},{"node":{"frontmatter":{"order":"6A","path":"/conclusion","title":"Conclusion"}}},{"node":{"frontmatter":{"order":"4A","path":"/graph-databases","title":"Graph Databases"}}},{"node":{"frontmatter":{"order":"3H","path":"/hasura","title":"Hasura"}}},{"node":{"frontmatter":{"order":"2E","path":"/indexes-in-mongodb","title":"Indexes in MongoDB"}}},{"node":{"frontmatter":{"order":"1B","path":"/installation-notes","title":"Installation Notes"}}},{"node":{"frontmatter":{"order":"3A","path":"/intro-to-sql-databases","title":"Intro to SQL Database"}}},{"node":{"frontmatter":{"order":"1A","path":"/intro","title":"Introduction"}}},{"node":{"frontmatter":{"order":"3E","path":"/json-in-postgresql","title":"JSON in PostgreSQL"}}},{"node":{"frontmatter":{"order":"5A","path":"/key-value-store","title":"Key-Value Store"}}},{"node":{"frontmatter":{"order":"2H","path":"/mongodb-ops","title":"MongoDB Ops"}}},{"node":{"frontmatter":{"order":"2B","path":"/mongodb","title":"MongoDB"}}},{"node":{"frontmatter":{"order":"5E","path":"/more-redis-concepts","title":"More Redis Concepts"}}},{"node":{"frontmatter":{"order":"4C","path":"/neo4j-browser","title":"Neo4j Browser"}}},{"node":{"frontmatter":{"order":"4E","path":"/neo4j-indexes","title":"Indexes in Neo4j"}}},{"node":{"frontmatter":{"order":"4G","path":"/neo4j-ops","title":"Neo4j Ops"}}},{"node":{"frontmatter":{"order":"4B","path":"/neo4j","title":"Neo4j"}}},{"node":{"frontmatter":{"order":"2G","path":"/nodejs-app-with-mongodb","title":"Write a Node.js app with MongoDB"}}},{"node":{"frontmatter":{"order":"4F","path":"/nodejs-app-with-neo4j","title":"Node.js App with Neo4j"}}},{"node":{"frontmatter":{"order":"3G","path":"/nodejs-app-with-postgresql","title":"Node.js App with PostgreSQL"}}},{"node":{"frontmatter":{"order":"5F","path":"/nodejs-app-with-redis","title":"Node.js App with Redis"}}},{"node":{"frontmatter":{"order":"2A","path":"/nosql","title":"NoSQL"}}},{"node":{"frontmatter":{"order":"3F","path":"/postgresql-indexes","title":"Indexes in PostgreSQL"}}},{"node":{"frontmatter":{"order":"3I","path":"/postgresql-ops","title":"PostgreSQL Ops"}}},{"node":{"frontmatter":{"order":"3B","path":"/postgresql","title":"PostgreSQL"}}},{"node":{"frontmatter":{"order":"2C","path":"/querying-mongodb","title":"Querying MongoDB"}}},{"node":{"frontmatter":{"order":"3C","path":"/querying-postgresql","title":"Querying PostgreSQL"}}},{"node":{"frontmatter":{"order":"5C","path":"/redis-command-options","title":"Redis Command Options"}}},{"node":{"frontmatter":{"order":"5C","path":"/redis-data-types","title":"Redis Data Types"}}},{"node":{"frontmatter":{"order":"5G","path":"/redis-ops","title":"Redis Ops"}}},{"node":{"frontmatter":{"order":"5B","path":"/redis","title":"Redis"}}},{"node":{"frontmatter":{"order":"1C","path":"/terminology","title":"Terminology"}}},{"node":{"frontmatter":{"order":"2D","path":"/updating-mongodb","title":"Updating MongoDB"}}}]}},"pageContext":{}},"staticQueryHashes":["2959687377"]}